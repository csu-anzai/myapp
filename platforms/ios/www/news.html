<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <!-- This is a wide open CSP declaration. To lock this down for production, see below. -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' gap:; style-src 'self' 'unsafe-inline'; media-src *" /> -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com * ws:;style-src * 'unsafe-inline' data:  blob:;media-src *;img-src * 'self' data: content:;script-src * 'unsafe-inline' 'unsafe-eval' data: blob:;">
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src * gap: ws: https://ssl.gstatic.com;img-src * 'self' data: content:;style-src 'self' 'unsafe-inline' data: blob:;script-src * 'unsafe-inline' 'unsafe-eval' data: blob:;"> -->

    <!-- Good default declaration:
    * gap: is required only on iOS (when using UIWebView) and is needed for JS->native communication
    * https://ssl.gstatic.com is required only on Android and is needed for TalkBack to function properly
    * Disables use of eval() and inline scripts in order to mitigate risk of XSS vulnerabilities. To change this:
        * Enable inline JS: add 'unsafe-inline' to default-src
        * Enable eval(): add 'unsafe-eval' to default-src
    * Create your own at http://cspisawesome.com
    -->
    <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self' data: gap: 'unsafe-inline' https://ssl.gstatic.com; style-src 'self' 'unsafe-inline'; media-src *" /> -->

    <!-- External fills -->
    <link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">
    <link rel="stylesheet" href="css/materialdesignicons.min.css">
    <link rel="stylesheet" href="css/bootstrapA.css">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/main.css">
    <title>Tanta Sporting Club</title>
</head>

<body>
    <div id="loading"><img src="img/loading.gif" /></div>


    <nav class="fixed-top">
        <div class="container-fluid h-100">
            <form id="search">
                <input type="search" placeholder="البحث" autofocus>
            </form>
            <div class="h-100">
                <div class="row h-100">
                    <div class="col-2 h-100">
                        <div class="toggle-menu h-100 d-flex align-items-center">
                            <i class="mdi mdi-arrow-right"></i>
                        </div>
                    </div>
                    <div class="col-8 h-100">
                        <div class="logo h-100 d-flex justify-content-center align-items-center">
                            <h3 class="text-white d-flex align-items-center"> <img src="img/logo/tanta-clup.jpg" class="d-inline-block" width="25px" height="25px" alt="logo"> أخبار النادى </h3>
                        </div>
                    </div>
                    <div class="col-2 h-100">
                        <div class="h-100 search">
                            <ul class=" h-100 d-flex justify-content-end align-items-center">
                                <li class="mr-3"> <i class="mdi mdi-filter"> </i> </li>
                                <li> <i class="mdi mdi-magnify"> </i> </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="news pt-3">
        <div class="container-fluid">
            <div class="news-items" id="posts">

            </div>


            <div class="w-100 text-center">
                <button class="all-news" id="load-more">المزيد</button>
            </div>
        </div>
    </div>

<div class='menu-bottom' >
    <div class="member-login categories-menu">

        <div class="container-fluid">
            <div class="content">
                <div class="menus text-center">

                    <div class="menu-list text-right">
                        <h5 class='custom-list ' >الأقسام</h5>
                    </div>

                    <div id="categories" >

                        <div class="menu-list text-right">
                            <label for="cat-24" href="news.html?cat=24" class="custom-list-bottom"> كرة القدم
                                <input id="cat-24" class="float-right custom-checkbox" value="24" type="checkbox" />
                                <span class="box"> </span>
                            </label>
                        </div>

                                <!-- -------------------------- -->

                        <div class="menu-list text-right">
                            <label for="cat-80" href="news.html?cat=80" class="custom-list-bottom"> كرة اليد
                                <input id="cat-80" class="float-right" value="80" type="checkbox" />
                                <span class="box"> </span>
                            </label>
                        </div>

                                <!-- -------------------------- -->

                        <div class="menu-list text-right">
                            <label for="cat-16" href="news.html?cat=16" class="custom-list-bottom"> العاب القوى
                                <input id="cat-16" class="float-right" value="16" type="checkbox" />
                                <span class="box"> </span>
                            </label>
                        </div>
                        <!-- -------------------------- -->

                        <div class="menu-list text-right">
                            <label for="cat-18" href="news.html?cat=18" class="custom-list-bottom"> تنس
                                <input id="cat-18" class="float-right" value="18" type="checkbox" />
                                <span class="box"> </span>
                            </label>
                        </div>

                          <!-- -------------------------- -->

                        <div class="menu-list text-right">
                            <label for="cat-25" href="news.html?cat=25" class="custom-list-bottom"> كرة طائرة
                                <input id="cat-25" class="float-right" value="25" type="checkbox" />
                                <span class="box"> </span>
                            </label>
                        </div>

                          <!-- -------------------------- -->

                        <div class="menu-list text-right">
                            <label for="cat-23" href="news.html?cat=23" class="custom-list-bottom"> كرة السلة
                                <input id="cat-23" class="float-right" value="23" type="checkbox" />
                                <span class="box"> </span>
                            </label>
                        </div>
                    </div>


                    <div class="menu-list text-right">
                        <a href="#" id='done' class='custom-list button all-news' >تأكيد</a>
                    </div>

                    <!-- --------------------------- -->
                </div>
            </div>
        </div>
    </div>



    <script type="text/javascript" src="cordova.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>
    <script src="js/moment.js"></script>
    <script type="text/javascript" src="js/index.js"></script>
    <!-- Js External Fills -->
    <!-- Js External Fills -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/scroll.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script>
    document.addEventListener("deviceready", function(){
        app.news();
      }, false);

        $(document).ready(function() {

            // select option change
            if(window.location.search){
              let params = new URLSearchParams(document.location.search.substring(1));
              var cats = params.get('cat').split(',');
              cats.forEach(cat => {
                $(`input[value="${cat}"]`).prop('checked',true);
              })
            }

            sessionStorage.currentPage = 1;

            $('#load-more').on('click', function() {
                app.news(window.location.hash.substr(1), ++sessionStorage.currentPage);
            });


            $("#search").on("submit", function(e) {
                e.preventDefault();
                app.news(this[0].value);
            });

            $("body, html").on("click", function() {
                $("nav form input[type='search']").removeClass("d-block");
            });

            $(".mdi-magnify").on("click", function(e) {
                $("nav form input[type='search']").addClass("d-block");
                e.stopPropagation();
            });

            $(".mdi-filter").on("click", function(e) {
                $(".menu-bottom").toggleClass("show-categories");
                e.stopPropagation();
            });

            $('#done').on('click', function(){
                var cats = [];
                $.each($("input[type='checkbox']:checked"), function(){
                    cats.push($(this).val());
                });

                window.location.href = 'news.html?cat=' + cats;
            });

            $("nav form input[type='search']").on("click", function(e) {
                e.stopPropagation();
            });

            $(".mdi-arrow-right").on("click", function() {
                window.history.back();
            });
            $(".mdi-filter").on("click", function  () {
              $(".menu-bottom").toggleClass("show-bottom");
            })
        });
    </script>
</body>

</html>
